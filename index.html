<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KingPin Music</title>
    <link rel="stylesheet" href="style.css" />
    <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.49.4/dist/umd/supabase.js"></script>
    <script defer src="app.js"></script>
  </head>
  <body>
    <div id="loginView" class="login-view">
      <div class="login-card">
        <h1 class="brand-large">KingPin Music</h1>
        <p>Your personal flac audio streaming.</p>
        <button id="loginBtn" class="btn primary large">Log in with Google</button>
      </div>
    </div>

    <div id="mainApp" class="app-layout hidden">
      
      <nav class="sidebar">
        <div class="brand">KingPin Music</div>
        
        <div class="nav-links">
          <button class="nav-item active" data-view="library">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12.5 3.247a1 1 0 0 0-1 0L4 7.577V20h4.5v-6a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v6H20V7.577l-7.5-4.33zm-2-1.732a3 3 0 0 1 3 0l7.5 4.33a2 2 0 0 1 1 1.732V21a1 1 0 0 1-1 1h-6.5a1 1 0 0 1-1-1v-6h-3v6a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.577a2 2 0 0 1 1-1.732l7.5-4.33z"/></svg>
            Library
          </button>
          <div class="search-box">
            <input id="searchInput" type="text" placeholder="Search songs..." />
          </div>
        </div>

        <div class="library-section">
          <div class="section-title">Your Collection</div>
          <button class="nav-item" data-view="liked">Liked Songs</button>
          <button class="nav-item" data-view="recent">Recently Played</button>
          <button class="nav-item" data-view="playlists">Playlists</button>
          <button class="nav-item" data-view="queue">Queue</button>
        </div>

        <div class="sidebar-footer">
          <label class="btn ghost upload-btn">
            <input id="fileInput" type="file" multiple accept="audio/*" class="hidden" />
            Upload Audio
          </label>
          <div class="user-box">
            <span id="userEmail" class="truncate">User</span>
            <button id="logoutBtn" class="btn text-only">Logout</button>
          </div>
        </div>
      </nav>

      <main class="main-content">
        <div class="top-gradient"></div>
        <div class="content-header">
          <h2 id="viewTitle">Library</h2>
        </div>
        <div id="viewContent" class="content-body">
          </div>
      </main>

      <footer class="player">
        <div class="now-playing">
          <div class="track-info">
            <div id="nowTitle" class="track-title">No song playing</div>
            <div id="nowSub" class="track-artist">—</div>
          </div>
        </div>
        
        <div class="player-controls">
          <div class="buttons">
            <button id="prevBtn" class="control-btn"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M3.3 1a.7.7 0 0 1 .7.7v5.15l9.95-5.744a.7.7 0 0 1 1.05.606v12.575a.7.7 0 0 1-1.05.607L4 9.149V14.3a.7.7 0 0 1-1.4 0V1.7a.7.7 0 0 1 .7-.7z"/></svg></button>
            <button id="playBtn" class="control-btn play-pause"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M7.05 3.606l13.49 7.788a.7.7 0 0 1 0 1.212L7.05 20.394A.7.7 0 0 1 6 19.788V4.212a.7.7 0 0 1 1.05-.606z"/></svg></button>
            <button id="nextBtn" class="control-btn"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M12.7 1a.7.7 0 0 0-.7.7v5.15L2.05 1.106A.7.7 0 0 0 1 1.712v12.575a.7.7 0 0 0 1.05.607L12 9.149V14.3a.7.7 0 0 0 1.4 0V1.7a.7.7 0 0 0-.7-.7z"/></svg></button>
          </div>
        </div>

        <div class="player-right">
          <button id="eqBtn" class="btn ghost btn-sm">EQ</button>
          <div class="volume-bar">
            <svg viewBox="0 0 16 16" fill="currentColor" width="16" height="16"><path d="M9.741.85a.75.75 0 0 1 .375.65v13a.75.75 0 0 1-1.125.65l-6.925-4a3.642 3.642 0 0 1-1.33-4.967 3.639 3.639 0 0 1 1.33-1.332l6.925-4a.75.75 0 0 1 .75 0zm-6.924 5.3a2.139 2.139 0 0 0-1.05 1.85 2.14 2.14 0 0 0 1.05 1.85l6.433 3.715V2.435L2.817 6.15z"/></svg>
            <input id="volume" type="range" min="0" max="100" value="100" />
          </div>
        </div>
      </footer>
    </div>

    <div id="eqModal" class="modal hidden">
      <div class="modal-card">
        <div class="modal-header">
          <h3>Equalizer Settings</h3>
          <button class="close-modal" data-action="close-eq">✕</button>
        </div>
        <div class="eq-sliders" id="eqSlidersContainer"></div>
        <div class="modal-actions">
          <button class="btn ghost" data-action="reset-eq">Reset</button>
          <button class="btn primary" data-action="close-eq">Done</button>
        </div>
      </div>
    </div>

    <div id="toast" class="toast hidden"></div>
  </body>
</html>




